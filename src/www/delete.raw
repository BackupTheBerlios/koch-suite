<?php
  /* Copyright (c) 2001
   *      Michael Lestinsky. All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions
   * are met:
   * 1. Redistributions of source code must retain the above copyright
   *    notice, this list of conditions and the following disclaimer.
   * 2. Redistributions in binary form must reproduce the above copyright
   *    notice, this list of conditions and the following disclaimer in the
   *    documentation and/or other materials provided with the distribution.
   * 3. All advertising materials mentioning features or use of this software
   *    must display the following acknowledgement:
   *      This product includes software developed by Michael Lestinsky.
   *
   * THIS SOFTWARE IS PROVIDED BY MICHAEL LESTINSKY ``AS IS'' AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   * ARE DISCLAIMED.  IN NO EVENT SHALL MICHAEL LESTINSKY BE LIABLE
   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   * SUCH DAMAGE.
   */

  /**
   * Delete an entry from the database.
   *
   * (c) 2001 Michael Lestinsky <michael@zaphod.rhein-neckar.de>
   *
   * @package WWW
   * @modulegroup Edit
   * @module delete
   */

  include "<%%PHP_LIBS%%>/config.inc";
  include "<%%PHP_LIBS%%>/lang.inc";
  include "<%%PHP_LIBS%%>/functions.inc";
  include "<%%PHP_LIBS%%>/auth.inc";

  auth(WRITE);

  if (isset($HTTP_GET_VARS["mid"]))     $mid     = $HTTP_GET_VARS["mid"];
  if (isset($HTTP_GET_VARS["confirm"])) $confirm = $HTTP_GET_VARS["confirm"];
  if (isset($HTTP_SERVER_VARS["PHP_SELF"])) 
    $PHP_SELF = $HTTP_SERVER_VARS["PHP_SELF"];
?>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>

<head>
  <link rel="stylesheet" type="text/css" href="styles.css">
  <link rev="made" href="mailto:michael@zaphod.rhein-neckar.de">
  <title>Koch-Suite</title>
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="Content-Script-Type" content="text/javascript">
  <!-- $Id: delete.raw,v 1.12 2001/08/31 12:41:58 lestinsky Exp $ -->
</head>

<body>
<a name="top"></a>
<h1><img src="pics/title.gif" alt="Koch-Suite"></h1>

<table border=0 cellpadding=3 cellspacing=1>
<tr>
  <td valign="top">
    <? include "./menue.inc"; ?>
  </td>
  <td>
    <!-- Rechts: Ausgabe -->
    <?
      if (isset($confirm) and $confirm == 'y') {
        delete_menue ($mid);
        echo "<h1>" . $Lang["Recipe"]["Deleted"] . "</h1>\n";
      } else {
        echo "<h1>" . $Lang["Recipe"]["Delete"] ."?</h1>\n";
        echo format_recipe_html(get_menu_by_mid($mid));
        echo "[<a href=\"$PHP_SELF?mid=$mid&confirm=y\">" . 
                $Lang["Delete"] . "</a>]\n";
      }
    ?>
  </td>
</tr>
</table>

<hr noshade>

&copy; Michael Lestinsky
&lt;<a
href="mailto:michael@zaphod.rhein-neckar.de">michael@zaphod.rhein-neckar.
de</a>&gt;
Januar 2001.

</body>
</html>
<?db_disconnect();?>
