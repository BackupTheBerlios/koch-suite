### $Id: README,v 1.14 2001/01/18 00:39:24 michael Exp $

Koch-Suite
==========

Michael Lestinsky <michael@zaphod.rhein-neckar.de>, Oktober 2000
Die Datei LICENSE enthält die Lizenz, unter der dieses Paket als ganzes
oder einzelne Dateien hieraus verwendet werden dürfen.


Was ist das hier ueberhaupt?
----------------------------

Eine Sammlung von Skripten fuer die Rezeptverwaltung. Angefangen von
Mealmaster-Importfiltern (http://www.mealmaster.com), über
Kommandozeilen-Tools für den Export in diverse Formate bis zu einem
Web-Interface zur Datenbank.


Voraussetzungen:
----------------

Wer einen Rezept-Server betreiben will, der wird einen laufenden http-
Daemon und MySQL benötigen. 

Als Plattformen sind getestet:
 - Linux/i386
 - OpenBSD/i386

Auf alle Fälle ist auch PHP4 mit MySQL-Support notwendig. Diese Skripten 
sind unter PHP-4.0.3.pl1 geschrieben und getestet worden. PHP4 muss als 
Stand-Alone-Interpreter vorhanden sein, nur mit dem Apache-Modul funktio-
nieren die Konsolen-Tools nicht.


Status:
-------

Momentan ist das Projekt noch nicht allzuweit. Die meiste Arbeit findet an
den zentralen Funktionen statt, damit die Anwendungen später nur noch eine
triviale Abfolge von Funktionsaufrufen sein können.

Bisher existiert nur:
 - ein Tool für den Datenbank-Import im Mealmaster-Format,
 - Exportfunktionen nach Latex, Plain-Text und Mealmaster-Format,
 - ein paar Prototyp-Webseiten, die elementare Suchfunktionen in der
   Datenbank implementieren.

An allem anderen wird derzeit noch kräfitg gearbeitet.


PHP4-Installation:
-------------------

Um PHP4 entsprechend zu kompilieren, packt man die Quellen aus und 
ruft im PHP-Quell-Verzeichnis "configure" mit folgenden Optionen auf: 

 $ ./configure  --with-mysql --enable-force-cgi-redirect

Danach baut und installiert man PHP mittels:

 $ make && make install

aus dem PHP-Quell-Verzeichnis heraus. In der Regel funktioniert dies
ohne größere Probleme.

Ausführlichere Informationen zu PHP, der Installation und eine Sprach-
referenz finden sich unter http://www.php.net


PHP4-Konfiguration:
-------------------

Ok, es ist nicht schön, dies vorauszusetzen. Mir ist es auch erst
aufgefallen, nachdem ich darüber gestolpert bin. Derzeit ist aber die
Konfiguration von PHP mit folgenden Werten erforderlich.

  [snip]
    magic_quotes_gpc 	= On   ;
    magic_quotes_runtime= Off  ;
    magic_quotes_sybase	= Off  ;
  [snap]

Ich hoffe, dass ich diese Voraussetzung noch vor 0.3 bereinigen kann.


Installation:
-------------

 - tar -xvzf kochsuite-0.2.tar.gz
   Dieses Paket auspacken, wenn es nicht bereits geschehen ist.

 - vi config
   Anpassen der Konfigurationsvariablen

 - make

 - make install
   als Root.

Zum Import der Datenstruktur kann mit einem

 $ mysql DBkoch < init-db.sql 

alle notwendigen Komandos ausführen lassen. init-db.sql liegt im
Documentation-Verzeichnis.


Updating:
---------

0.1.* -> 0.2 Das Format der Datenbank hat sich leicht geändert:
             Tabelle MENUE: 
               alter table MENUE change PORTIONEN PORTIONEN varchar(255);
             Diese Änderung ist vollkommen transparent.


Todo/'Roadmap':
---------------

 - Dokumentation schreiben,
 - vorhandene Rezepte kommentieren,
 - Zugriffskontrolle für die Datenbank/Authentifizierung des Users
 - RezKonv-Importfilter,


Bugs:
-----

 - Import von Rezepten mit uneigentlichen Brüchen, also Dinge wie "1 1/2"
 - Deutsch-Englischer Mischmasch in Kommentaren,...
 - Import von Rezepten mit einer alternativen Darstellung der
   Rezept-Header ("      H    Für die Sauce"). Header werden als solche
   nicht erkannt und landen daher im Anweisungs-Text. Allerdings sind
   diese Header sehr selten.


Feedback:
---------

Bitte schickt mir Feedback. Am besten per EMail an meine oben angegebene
Adresse. Ich nehme gerne auch Patches oder Wünsche für Features an.

