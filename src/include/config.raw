<?
  /*
   * Configuration-file for the Koch-Suite
   *
   * (c) by Michael Lestinsky <michael@zaphod.rhein-neckar.de>, May 2001
   * $Id: config.raw,v 1.22 2001/08/16 19:59:35 lestinsky Exp $
   * See LICENSE in the top-level directory of the Koch-Suite distribution
   * for the License of this file.
   */

  require_once 'DB.php';
  require_once '<%%PHP_LIBS%%>/debug.inc';
  require_once '<%%PHP_LIBS%%>/defines.inc';

  /*
   * Shall we debug? Answer "yes" or "no".
   * If yes: create a world-writable file /tmp/koch-suite-debug for
   * debugging output.
   */

  $DEBUG = "yes";
  error_reporting(E_ALL);


  /* Paths: */

  $LATEX   = "<%%latex%%>";
  $DVIPS   = "<%%dvips%%>";
  $GS      = "<%%gs%%>";
  $TMPDIR  = "/tmp";

  /*
   * Offer "printable" recipes in that format: 
   * May be: "html", "latex", "ps", "pdf" 
   * We will fall back in this queue from right to left if one of the 
   * required tools is missing.
   */
  $PRINTABLE_FORMAT = "pdf";


  /*
   * What about the Database?
   */

  /* DSN */
  $DB_DSN      = array('phptype'  => "<%%DB_TYPE%%>",
                       'dbsyntax' => false,
                       'protocol' => false,
                       'hostspec' => "<%%DB_SERVER%%>",
                       'database' => "<%%DB_NAME%%>",
                       'username' => "<%%DB_USER%%>",
                       'password' => "<%%DB_PASSWORD%%>" );

  $DB_STYLE    = $DB_DSN["phptype"];

  /* Do the connect */
  if ($DEBUG == "yes") write_log("Connecting to " . serialize($DB_DSN));
  $db=DB::connect($DB_DSN);

  if (DB::isError($db)) {
    write_log("Can't connect to $DB_DSN: " . $db->getMessage());
    die("Can't connect to $DB_DSN: " . $db->getMessage());
  }


  /* Return associative arrays per default */
  $db->setFetchMode(DB_FETCHMODE_ASSOC);


  /* Catch "special" Bugs in some PHP-versions */
  switch (phpversion()) {
    case "4.0.6":
    case "4.0.5":
      $BROKEN_ARRAY_INTERSECT = true;
      break;
    default:
      $BROKEN_ARRAY_INTERSECT = false;
      break;
  }
?>
